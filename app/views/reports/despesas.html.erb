<br><div id="example1" align="center"><br/>
<%= search_form_for @search, url: reports_despesas_path, method: :post do |f| %>
  <div class="field">
  	<%= f.label :paid_eq, 'Pago' %>
  	<%= f.select :paid_eq, [['Não', 'false'], ['Sim', 'true']], :include_blank => true %><br>
  </div>
  <div class="input-daterange">
    Período
    <%= f.text_field :start_gteq, placeholder: 'De', autocomplete: "off" %>
    <%= f.text_field :start_lteq, placeholder: 'Até', autocomplete: "off" %>
  </div>
  <div class="actions"><%= f.submit 'Filtrar' %></div>
<% end %>

<div class="table-responsive">

<table id="countit" class='table table-striped table-bordered' style="width:90%;" align="center">
  <thead>
    <tr>
      <th>Nome</th>
      <th>Valor</th>
      <th>Descrição</th>
      <th>Pago</th>
      <th>Data de Vencimento</th>
    </tr>
  </thead>

  <tbody>
  <% @events.order('created_at DESC').each do |event| %>
    <tr>
      <td><%= event.name %></td>
      <td><%= number_to_currency(event.price.to_f) %></td>
      <td class="count-value" style="display: none;"><%= event.price.to_f %></td>
      <td><%= event.description %></td>
      <td><% if event.paid == false %>Não <% else %> Sim <% end %></td>
      <td><%= event.start.strftime("%d/%m/%Y") %></td>
    </tr>
  <% end %>
  </tbody>
</table>

</div>

<script language="javascript" type="text/javascript">
    var tds = document.getElementById('countit').getElementsByTagName('td');
    var sumValue = 0;
    for(var i = 0; i < tds.length; i ++) {
        if(tds[i].className == 'count-value') {
            sumValue += isNaN(tds[i].innerHTML) ? 0 : parseFloat(tds[i].innerHTML);
        }
    }
    document.getElementById('countit').innerHTML += '<tr><td><b>Valor Total</b></td><td><b>R$ ' + sumValue + '</b></td></tr>';

</script>


</div>